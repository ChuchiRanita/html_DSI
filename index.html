<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codificador y Descodificador (Forma Pura)</title>
</head>
<body>
    <div>
        <h1>--Codificador y Descodificador--</h1>
        <textarea id="mensaje" placeholder="Escribe tu mensaje aquí..." rows="4" cols="50"></textarea>
        <br>
        <button onclick="codificar()">Codificar</button>
        <button onclick="descodificar()">Descodificar</button>
        <br>
        <p><strong>Resultado:</strong></p>
        <p id="resultado"></p>
    </div>

    <script>
        let mensajeCodificado = '';

        function codificar() {
            let mensaje = document.getElementById('mensaje').value;

            if (mensaje === '') {
                alert('Escribe un mensaje primero.');
                return;
            }

            let tieneVocales = /[aeiouAEIOUáéíóúÁÉÍÓÚ]/.test(mensaje);
            

            mensajeCodificado = mensaje;
            mensajeCodificado = mensajeCodificado.replace(/a/g, '1');
            mensajeCodificado = mensajeCodificado.replace(/e/g, '2');
            mensajeCodificado = mensajeCodificado.replace(/i/g, '3');
            mensajeCodificado = mensajeCodificado.replace(/o/g, '4');
            mensajeCodificado = mensajeCodificado.replace(/u/g, '5');
            mensajeCodificado = mensajeCodificado.replace(/á/g, '¨');
            mensajeCodificado = mensajeCodificado.replace(/é/g, '{');
            mensajeCodificado = mensajeCodificado.replace(/í/g, '}');
            mensajeCodificado = mensajeCodificado.replace(/ó/g, '=');
            mensajeCodificado = mensajeCodificado.replace(/ú/g, '-');
            mensajeCodificado = mensajeCodificado.replace(/A/g, '6');
            mensajeCodificado = mensajeCodificado.replace(/E/g, '7');
            mensajeCodificado = mensajeCodificado.replace(/I/g, '8');
            mensajeCodificado = mensajeCodificado.replace(/O/g, '9');
            mensajeCodificado = mensajeCodificado.replace(/U/g, '0');
            mensajeCodificado = mensajeCodificado.replace(/Á/g, '#');
            mensajeCodificado = mensajeCodificado.replace(/É/g, '~');
            mensajeCodificado = mensajeCodificado.replace(/Í/g, '%');
            mensajeCodificado = mensajeCodificado.replace(/Ó/g, '&');
            mensajeCodificado = mensajeCodificado.replace(/Ú/g, '@');

            
            document.getElementById('resultado').innerText = mensajeCodificado;
        }

        function descodificar() {
            if (mensajeCodificado === '') {
                alert('Primero codifica un mensaje.');
                return;
            }

            let tieneCodigos = /[1-5][aeiouAEIOUáéíóúÁÉÍÓÚ]/.test(mensajeCodificado);
            
            let mensajeDescodificado = mensajeCodificado;
            mensajeDescodificado = mensajeDescodificado.replace(/1/g, 'a');
            mensajeDescodificado = mensajeDescodificado.replace(/2/g, 'e');
            mensajeDescodificado = mensajeDescodificado.replace(/3/g, 'i');
            mensajeDescodificado = mensajeDescodificado.replace(/4/g, 'o');
            mensajeDescodificado = mensajeDescodificado.replace(/5/g, 'u');
            mensajeDescodificado = mensajeDescodificado.replace(/¨/g, 'á');
            mensajeDescodificado = mensajeDescodificado.replace(/{/g, 'é');
            mensajeDescodificado = mensajeDescodificado.replace(/}/g, 'í');
            mensajeDescodificado = mensajeDescodificado.replace(/=/g, 'ó');
            mensajeDescodificado = mensajeDescodificado.replace(/-/g, 'ú');
            mensajeDescodificado = mensajeDescodificado.replace(/6/g, 'A');
            mensajeDescodificado = mensajeDescodificado.replace(/7/g, 'E');
            mensajeDescodificado = mensajeDescodificado.replace(/8/g, 'I');
            mensajeDescodificado = mensajeDescodificado.replace(/9/g, 'O');
            mensajeDescodificado = mensajeDescodificado.replace(/0/g, 'U');
            mensajeDescodificado = mensajeDescodificado.replace(/#/g, 'Á');
            mensajeDescodificado = mensajeDescodificado.replace(/~/g, 'É');
            mensajeDescodificado = mensajeDescodificado.replace(/%/g, 'Í');
            mensajeDescodificado = mensajeDescodificado.replace(/&/g, 'Ó');
            mensajeDescodificado = mensajeDescodificado.replace(/@/g, 'Ú');

            
            document.getElementById('resultado').innerText = mensajeDescodificado;
        }
    </script>
</body>
</html>
